<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mario Jump</title>
    <link rel="stylesheet" href="https://jennibezarrias.github.io/Animation-Mario/mario/style.css">
</head>
<body>
    <div class="game-board">
        <img src="/Animation-Mario/mario/img/clouds.png"  class="clouds">
        <img class="mario" src="/Animation-Mario/mario/img/mario.gif">
        <img class="pipe" src="/Animation-Mario/mario/img/pipe.png">
    </div>
    <script>
    const checkDevice = () => {
        const windowWidth = window.innerWidth;
    
        if (windowWidth <= 768){
            loop()
        }
    }
    
    
    const mario = document.querySelector('.mario')
    const pipe = document.querySelector('.pipe')
    
    const jump = () => {
        mario.classList.add('jump')
    
        setTimeout(() => {
            mario.classList.remove('jump')
        }, 500)
    }
    
    const loop = setInterval(() => {
    
        const pipePosition = pipe.offsetLeft;
        const marioPosition = window.getComputedStyle(mario).bottom.replace('px', '');
    
        if (pipePosition <= 120 && pipePosition > 0 && marioPosition < 80){
            pipe.style.animation ='none';
            pipe.style.left =`${pipePosition}px`;
    
            mario.src = './img/game-over.png';
            mario.style.width = '75px';
            mario.style.marginLeft = '50px'
    
            clearInterval(loop)
        }
    }, 10)
    
    document.addEventListener('keydown', jump);
    </script>
</body>
</html>
